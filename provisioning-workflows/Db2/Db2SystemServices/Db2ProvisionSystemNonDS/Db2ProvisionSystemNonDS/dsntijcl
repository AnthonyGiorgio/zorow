//*********************************************************************
//*        SDSNSAMP(DSNTIJCL)                                         *
//*********************************************************************
//JOBLIB   DD  DISP=SHR,
//             DSN=${DSNLOAD}
//BINDCLI  EXEC PGM=IKJEFT01,DYNAMNBR=20
//DBRMLIB  DD DISP=SHR,
//             DSN=${DSNDBRM}
//SYSTSPRT DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//SYSTSIN  DD  *
DSN SYSTEM(${MVSSNAME})

 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLIC1) -
    ENCODING(EBCDIC)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLIC2) -
    ENCODING(EBCDIC)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLIF4) -
    ENCODING(EBCDIC)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLIMS) -
    ENCODING(EBCDIC) SQLERROR(CONTINUE)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLIQR) -
    ENCODING(EBCDIC)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLICR) -
    ENCODING(EBCDIC)
 BIND PACKAGE (DSNAOCLI) MEMBER(DSNCLINF) -
    ENCODING(EBCDIC)

 BIND PLAN(DSNACLI)                   -
  PKLIST(DSNAOCLI.DSNCLIC1            -
         DSNAOCLI.DSNCLIC2            -
         DSNAOCLI.DSNCLIF4            -
         DSNAOCLI.DSNCLIMS            -
         DSNAOCLI.DSNCLIQR            -
         DSNAOCLI.DSNCLICR            -
         DSNAOCLI.DSNCLINF            )

END
/*
//*
//* GRANT AUTHORIZATION ON ODBC PACKAGES
//*
//DSNTIJG EXEC PGM=IKJEFT01,DYNAMNBR=20,COND=(4,LT)
//SYSTSPRT DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//SYSTSIN  DD  *
  DSN SYSTEM(${MVSSNAME})
  RUN PROGRAM(DSNTIAD)  PLAN(DSNTIA12) +
       LIBRARY('${RUNLIB}')
  END
//SYSIN    DD  *
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLIC1
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLIC2
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLIF4
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLIMS
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLIQR
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLICR
        TO ${INSGRLST};
  GRANT EXECUTE ON PACKAGE DSNAOCLI.DSNCLINF
        TO ${INSGRLST};
  GRANT EXECUTE ON PLAN DSNACLI
        TO ${INSGRLST};
//*
//* GENERATE THE ODBC INITIALIZATION PARMS MEMBER
//*
//DSNTIPM EXEC PGM=IEBUPDTE,PARM=NEW,COND=(4,LT)
//SYSPRINT DD SYSOUT=*
//SYSUDUMP DD SYSOUT=*
//SYSUT2   DD DISP=SHR,DSN=${PPROCLIB}
//SYSIN    DD DATA
./  ADD NAME=DSNAOINI
; INITIALIZATION PARAMETERS FOR ODBC
;
; COMMON STANZA
[COMMON]
MVSDEFAULTSSID=${MVSSNAME}
;
; SUBSYSTEM STANZA FOR ${MVSSNAME} SUBSYSTEM
[${MVSSNAME}]
MVSATTACHTYPE=CAF
PLANNAME=DSNACLI
;
; DATA SOURCE STANZA FOR ${DDLOC} DATA SOURCE
[${DDLOC}]
AUTOCOMMIT=0
OPTIMIZEFORNROWS=100
;
; DATA SOURCE STANZA FOR OTHER DATA SOURCE
[OTHERLOC]
TXNISOLATION=8
./  ENDUP
//*
